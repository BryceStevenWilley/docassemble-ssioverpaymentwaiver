---
metadata:
  title: SSI Overpayment Waiver Request
  short title: Overpayment Waiver
---
objects:
  - recordee: Individual
  - overpaid_persons: DAList.using(object_type=Individual)
---
include:
  - financial_statement.yml
---
mandatory: True
code: |
  client.name.first
  client.work_number
  if has_spouse:
    spouse.name.first
  if household.there_are_any:
    review_household_members

  recordee.name.first
  if overpaid_persons.there_are_any:
    overpaid_persons.there_is_another

  overpayment_reason
  if informed_ssa:
    benefits_changed_after_contact
  first_overpayment

  possess_overpayment
  payment_type
  gave_cash_after_notice
  cant_return_explanation
  affordable_amount
  overpayment_pay_less_reasons
  received_ssi
  expect_change

  financial_statement_questions

  accounts_special_purpose
  assets_cannot_be_converted
  assets_cannot_be_sold
  signature_choice
  
  financial_statement_download_screen
---
question: |
  Person on whose record the overpayment occurred
fields:
  - Somebody already mentioned: recordee
    datatype: object
    disable others: True
    choices: |
      everyone
  - First name: recordee.name.first
  - Middle name: recordee.name.middle
    required: False
  - Last name: recordee.name.last
  - Social Security Number: recordee.ssn
---
question: |
  Overpaid person(s) making this request
subquestion: |
  Is there anyone who was overpaid other than ${recordee} and who
  is making this request?
yesno: overpaid_persons.there_are_any
---
question: |
  Who is the ${ordinal(i)} overpaid person?
fields:
  - Somebody already mentioned: overpaid_persons[i]
    datatype: object
    disable others: True
    choices: |
      everyone
  - First name: overpaid_persons[i].name.first
  - Middle name: overpaid_persons[i].name.middle
    required: False
  - Last name: overpaid_persons[i].name.last
  - Social Security Number: overpaid_persons[i].ssn
  - Add another: overpaid_persons.there_is_another
    datatype: yesno
---
question: |
  What happened to the overpaid checks or money?
fields:
  - Do you currently have any of the money you were overpaid? : possess_overpayment
    datatype: yesnoradio
  - When you received the overpayment notice, did you have any of the money you were overpaid?: possessed_overpayment_at_notice
    datatype: yesnoradio
---
question: |
  What kind of Social Security payments do you receive?
field: payment_type
choices:
  - Supplemental Security Income (SSI): SSI
  - SSDI or Social Security Retirement: other
---
question: |
  Acts you took after receiving the overpayment notice
fields:  
  - Did you lend or give away any property or cash after you received notice of the overpayment?: gave_cash_after_notice
    datatype: yesnoradio
  - Describe who received the property or cash, what it was and its value: gave_cash_after_notice_explanation
    datatype: area
    show if: gave_cash_after_notice
  - Did you receive or sell any property or receive any cash, other than earnings, after you received the notice of overpayment?: received_cash_after_notice
    datatype: yesnoradio
  - Describe the property and sale price, or amount of cash received: received_cash_after_notice_explanation
    datatype: area
    show if: received_cash_after_notice
---
question: |
  Overpayment
subquestion: |
  Using your own words, explain to the Social Security Administration 
  why you do not think you should have to return the overpayment amount.
fields:
  - Why do you think you should not have to return the overpayment amount?: cant_return_explanation
    datatype: area
---
question: |
  Your expenses are higher than your income
subquestion: |
  From the information you gave us, your monthly expenses
  are higher than your income. Explain how you are paying your bills
  below.
fields:
  - no label: expenses_exceed_income_explanation
    datatype: area
---
question: |
  Reasons that you should not pay the full overpayment amount
subquestion: |
  Check all of the below that apply.
fields:
  - no label: overpayment_pay_less_reasons
    datatype: checkboxes
    choices:
      - I cannot afford to pay back the money
      - The overpayment was not my fault
---
question: |
  How much can you afford to pay back each month?
fields:
  - no label: affordable_amount
    datatype: currency
---
question: |
  SSI Payments
fields:
  - Were you receiving SSI payments in the past?: received_ssi
    datatype: yesnoradio
  - Are you receiving SSI payments right now?: receives_ssi
    datatype: yesnoradio
---
question: |
  Explain why the overpayment happened
subquestion: |
  Use your own words to explain
fields:
  - What changed to cause the overpayment?: overpayment_reason
    choices:
      - I had too much money in a bank account
      - I worked too many hours
  - What do you know about how the overpayment happened?: overpayment_explanation
    datatype: area
  - Why was the overpayment not your fault?: overpayment_why_not_at_fault
    datatype: area
  - Why did you think you had a right to the money?: overpayment_why_had_right
    datatype: area
---
question: |
  Contact with Social Security Administration
subquestion: |
  You said that the reason for the overpayment was ${overpayment_reason}
fields:
  - Did you tell the Social Security Administration about ${overpayment_reason}?: informed_ssa
    datatype: yesnoradio
  - Why not?: did_not_inform_ssa_explanation
    datatype: area
    show if:
      variable: informed_ssa
      is: False
  - Did you speak to someone (by phone or in person) about ${overpayment_reason}?: informed_orally
    datatype: yesnoradio
  - How, when and where?: how_when_where
    show if:
      variable: informed_orally
      is: False
  - Who did you talk to?: who_spokewith
    show if: informed_orally
  - What did you say?: informed_what_said 
    datatype: area
    show if: informed_orally
---
question: |
  Follow-up
subquestion: |
  You said that you contacted the Social Security Administration
  to let them know about ${overpayment_reason}.
fields:
  - After you reported that ${overpayment_reason}, did the Social Security Administration change your benefits amount?: benefits_changed_after_contact
    datatype: yesnoradio
  - Did you contact the Social Security Administration to follow-up?: benefits_did_not_change_followed_up
    datatype: yesnoradio
    show if:  
      variable: benefits_changed_after_contact
      is: False
---
question: |
  Past overpayments
fields:
  - Is this the first time you have been overpaid?: first_overpayment
    datatype: yesnoradio
  - Why were you overpaid in the past?: past_overpayment_explanation
    datatype: area
    show if:
      variable: first_overpayment
      is: False
  - If the reason is similar to the reason you were overpaid this time, please explain what you did to prevent it.: past_overpayment_similar_explanation
    datatype: area
    show if:
      variable: first_overpayment
      is: False
      
---
comment: |
  Financial expectation and funds availability
question: |
  Changes to your financial situation
subquestion: |
  Please think about your financial situation and any changes, whether
  for the better or worse, that you expect in the next 6 months.
fields:
  - In the next 6 months, I expect I or a household member: expect_change
    datatype: checkboxes
    choices:
      - Will receive a large tax refund
      - Will have a large bill repaid to me
      - Will receive a pay raise
      - Will receive a pay cut
      - Will pay a major bill (such as house repairs)
      - Other financial change for the better
      - Other financial change for the worse
  - Explain: expect_change_explanation
    datatype: area
    required: False
---
code: |
  cash_assets = [asset for asset in assets if asset.type in ['savings','checking']]
  non_cash_assets = [asset for asset in assets if asset.type not in ['savings','checking']]
  fixed_assets = vehicles + real_estate
---
question: |
  Are any funds being saved for a special purpose?
subquestion: |
  You said that you or a household member have the following
  accounts that have cash on hand.
  
  Check any funds that are being saved for a special purpose.
fields:
  - no label: accounts_special_purpose
    datatype: object_checkboxes
    choices: cash_assets       
  - Explain what the special purpose is: accounts_special_purpose_explanation
    datatype: area        
    required: False
---
question: |
  Are there any assets with a balance or value that CANNOT be converted to cash?
subquestion: |
  You said that you or a household member have the following assets
  that have a "balance or value".

  Check any assets below that CANNOT be converted to cash.
fields:
  - no label: assets_cannot_be_converted
    datatype: object_checkboxes
    choices: non_cash_assets
  - Explain why the assets CANNOT be converted to cash: assets_cannot_be_converted_explanation
    datatype: area
    required: False
---
question: |
  Are there any assets that do not have a balance or value that CANNOT be sold or
  otherwise converted to cash?
subquestion: |
  You said that you or a household member have the following
  vehicles and real estate, other than the family car or house.

  Check any assets below that CANNOT be sold or otherwise converted
  to cash.
fields:
  - no label: assets_cannot_be_sold
    datatype: object_checkboxes
    choices: fixed_assets
  - Explain why the vehicle or property CANNOT be sold: assets_cannot_be_sold_explanation
    datatype: area
    required: False
---
question: |
  Your contact information
fields:
  - Work phone number: client.work_number
  - Home phone number: client.home_number
  - Address: client.address.address
    address autocomplete: True
  - Unit or Apt: client.address.unit
  - City: client.address.city
  - State: client.address.state
    code: |
      states_list()
  - Zip code: client.address.zip
  - County: client.address.county
    required: False
---
question: |
  Signature
subquestion: |
  Before you mail or deliver this form, you need to sign it.
fields:
  - Where do you want to sign?: signature_choice
    input type: radio
    default: phone
    choices:
      - Sign on this device: this device
      - Sign on paper after I print the forms: paper
      - Sign on my phone: phone
    show if: 
      code: |
        device().is_pc      
  - note: |
      To sign on your phone, point your phone camera at this barcode and click the 
      barcode or link icon that appears in the camera view. Click continue on your 
      phone.
      
      <center>
      ${interview_url_as_qr()}
      </center>

    show if: 
      code: |
        device().is_pc    
  - Or, text me a link at this phone number: link_cell
    show if: 
      code: |
        device().is_pc        
    required: false
  - note: |
      Once this screen has loaded on your mobile device, click continue.
    show if: 
      code: |
        not device().is_pc            
continue button field: saw_signature_choice
help: |
  Many smartphones will automatically find the link on this screen. The link
  may "float" up from the screen into a small icon you can click.
  If your phone does not do this, use the text option instead.
  
---
question: Sign on your phone
subquestion: |
  % if device().is_pc:
  Click continue on this screen once you have finished signing on your phone.
  % else:
  Click continue on this screen when you're ready to sign.
  % endif
  
field: signature_wait_screen  
---
question: Sign below
subquestion: |
signature: client.signature
under: |
  ${ client }
